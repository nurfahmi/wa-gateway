<footer class="bg-white border-t border-gray-200 mt-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
    <div class="flex flex-col md:flex-row justify-between items-center">
      <p class="text-sm text-gray-700">
        &copy; <%= new Date().getFullYear() %> WASAP GETWAY by 
        <a href="https://indosofthouse.com/" target="_blank" rel="noopener noreferrer" class="text-primary-600 hover:text-primary-700 font-medium underline">Indosofthouse</a>. All rights reserved.
      </p>
      <div class="mt-4 md:mt-0 flex space-x-6">
        <a href="#" class="text-sm text-gray-700 hover:text-primary-600 transition-colors">Privacy</a>
        <a href="#" class="text-sm text-gray-700 hover:text-primary-600 transition-colors">Terms</a>
        <a href="#" class="text-sm text-gray-700 hover:text-primary-600 transition-colors">Support</a>
      </div>
    </div>
  </div>
</footer>

<!-- Global Notification Toast Container -->
<div id="toast-container" class="fixed top-4 right-4 z-[100] flex flex-col gap-3 pointer-events-none"></div>

<!-- Global Alert Modal -->
<div id="alert-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden flex items-center justify-center z-[99] p-4">
  <div class="bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all scale-95 opacity-0" id="alert-modal-content">
    <div class="p-6">
      <div class="flex items-start gap-4">
        <div id="alert-modal-icon" class="flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center">
          <!-- Icon will be inserted here -->
        </div>
        <div class="flex-1 min-w-0">
          <h3 id="alert-modal-title" class="text-lg font-semibold text-gray-900"></h3>
          <p id="alert-modal-message" class="mt-2 text-sm text-gray-600 whitespace-pre-wrap"></p>
        </div>
      </div>
    </div>
    <div class="px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end">
      <button id="alert-modal-close" class="px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
        OK
      </button>
    </div>
  </div>
</div>

<!-- Global Confirm Modal -->
<div id="confirm-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden flex items-center justify-center z-[99] p-4">
  <div class="bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all scale-95 opacity-0" id="confirm-modal-content">
    <div class="p-6">
      <div class="flex items-start gap-4">
        <div class="flex-shrink-0 w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center">
          <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <h3 id="confirm-modal-title" class="text-lg font-semibold text-gray-900">Confirm Action</h3>
          <p id="confirm-modal-message" class="mt-2 text-sm text-gray-600"></p>
        </div>
      </div>
    </div>
    <div class="px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end gap-3">
      <button id="confirm-modal-cancel" class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors">
        Cancel
      </button>
      <button id="confirm-modal-ok" class="px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors">
        Confirm
      </button>
    </div>
  </div>
</div>

<!-- Global Prompt Modal -->
<div id="prompt-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden flex items-center justify-center z-[99] p-4">
  <div class="bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all scale-95 opacity-0" id="prompt-modal-content">
    <div class="p-6">
      <div class="flex items-start gap-4">
        <div class="flex-shrink-0 w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
          <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <h3 id="prompt-modal-title" class="text-lg font-semibold text-gray-900">Enter Value</h3>
          <p id="prompt-modal-message" class="mt-2 text-sm text-gray-600"></p>
          <input type="text" id="prompt-modal-input" class="mt-3 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" placeholder="">
        </div>
      </div>
    </div>
    <div class="px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end gap-3">
      <button id="prompt-modal-cancel" class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors">
        Cancel
      </button>
      <button id="prompt-modal-ok" class="px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors">
        OK
      </button>
    </div>
  </div>
</div>

<script>
/**
 * Global Notification & Modal System
 * Replaces native alert() and confirm() with professional modals
 */
window.Toast = {
  container: null,
  
  init() {
    this.container = document.getElementById('toast-container');
  },
  
  show(message, type = 'info', duration = 4000) {
    if (!this.container) this.init();
    
    const icons = {
      success: `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>`,
      error: `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>`,
      warning: `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>`,
      info: `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>`
    };
    
    const colors = {
      success: 'bg-emerald-50 border-emerald-200 text-emerald-800',
      error: 'bg-red-50 border-red-200 text-red-800',
      warning: 'bg-amber-50 border-amber-200 text-amber-800',
      info: 'bg-blue-50 border-blue-200 text-blue-800'
    };
    
    const iconColors = {
      success: 'text-emerald-500',
      error: 'text-red-500',
      warning: 'text-amber-500',
      info: 'text-blue-500'
    };
    
    const toast = document.createElement('div');
    toast.className = `pointer-events-auto flex items-start gap-3 p-4 rounded-lg border shadow-lg max-w-sm transform transition-all duration-300 translate-x-full opacity-0 ${colors[type]}`;
    toast.innerHTML = `
      <div class="flex-shrink-0 ${iconColors[type]}">${icons[type]}</div>
      <div class="flex-1 text-sm font-medium">${message}</div>
      <button class="toast-close-btn flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    `;
    
    // Add event listener for close button
    const closeBtn = toast.querySelector('.toast-close-btn');
    closeBtn.addEventListener('click', () => toast.remove());
    
    this.container.appendChild(toast);
    
    // Animate in
    requestAnimationFrame(() => {
      toast.classList.remove('translate-x-full', 'opacity-0');
    });
    
    // Auto remove
    if (duration > 0) {
      setTimeout(() => {
        toast.classList.add('translate-x-full', 'opacity-0');
        setTimeout(() => toast.remove(), 300);
      }, duration);
    }
    
    return toast;
  },
  
  success(message, duration) { return this.show(message, 'success', duration); },
  error(message, duration) { return this.show(message, 'error', duration); },
  warning(message, duration) { return this.show(message, 'warning', duration); },
  info(message, duration) { return this.show(message, 'info', duration); }
};

window.Modal = {
  alertModal: null,
  confirmModal: null,
  promptModal: null,
  confirmResolve: null,
  promptResolve: null,
  
  init() {
    this.alertModal = document.getElementById('alert-modal');
    this.confirmModal = document.getElementById('confirm-modal');
    this.promptModal = document.getElementById('prompt-modal');
    
    // Alert modal close
    document.getElementById('alert-modal-close')?.addEventListener('click', () => this.closeAlert());
    this.alertModal?.addEventListener('click', (e) => {
      if (e.target === this.alertModal) this.closeAlert();
    });
    
    // Confirm modal buttons
    document.getElementById('confirm-modal-cancel')?.addEventListener('click', () => this.handleConfirm(false));
    document.getElementById('confirm-modal-ok')?.addEventListener('click', () => this.handleConfirm(true));
    this.confirmModal?.addEventListener('click', (e) => {
      if (e.target === this.confirmModal) this.handleConfirm(false);
    });
    
    // Prompt modal buttons
    document.getElementById('prompt-modal-cancel')?.addEventListener('click', () => this.handlePrompt(null));
    document.getElementById('prompt-modal-ok')?.addEventListener('click', () => {
      const value = document.getElementById('prompt-modal-input')?.value || '';
      this.handlePrompt(value);
    });
    this.promptModal?.addEventListener('click', (e) => {
      if (e.target === this.promptModal) this.handlePrompt(null);
    });
    
    // Enter key for prompt modal
    document.getElementById('prompt-modal-input')?.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const value = document.getElementById('prompt-modal-input')?.value || '';
        this.handlePrompt(value);
      }
    });
    
    // Escape key handler
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (this.alertModal && !this.alertModal.classList.contains('hidden')) {
          this.closeAlert();
        }
        if (this.confirmModal && !this.confirmModal.classList.contains('hidden')) {
          this.handleConfirm(false);
        }
        if (this.promptModal && !this.promptModal.classList.contains('hidden')) {
          this.handlePrompt(null);
        }
      }
    });
  },
  
  alert(message, title = 'Notice', type = 'info') {
    if (!this.alertModal) this.init();
    
    const icons = {
      success: { bg: 'bg-emerald-100', icon: `<svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>` },
      error: { bg: 'bg-red-100', icon: `<svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>` },
      warning: { bg: 'bg-amber-100', icon: `<svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>` },
      info: { bg: 'bg-blue-100', icon: `<svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>` }
    };
    
    const iconData = icons[type] || icons.info;
    document.getElementById('alert-modal-icon').className = `flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${iconData.bg}`;
    document.getElementById('alert-modal-icon').innerHTML = iconData.icon;
    document.getElementById('alert-modal-title').textContent = title;
    document.getElementById('alert-modal-message').textContent = message;
    
    this.alertModal.classList.remove('hidden');
    requestAnimationFrame(() => {
      document.getElementById('alert-modal-content').classList.remove('scale-95', 'opacity-0');
      document.getElementById('alert-modal-content').classList.add('scale-100', 'opacity-100');
    });
  },
  
  closeAlert() {
    const content = document.getElementById('alert-modal-content');
    content.classList.remove('scale-100', 'opacity-100');
    content.classList.add('scale-95', 'opacity-0');
    setTimeout(() => {
      this.alertModal.classList.add('hidden');
    }, 200);
  },
  
  confirm(message, title = 'Confirm Action') {
    return new Promise((resolve) => {
      if (!this.confirmModal) this.init();
      
      this.confirmResolve = resolve;
      document.getElementById('confirm-modal-title').textContent = title;
      document.getElementById('confirm-modal-message').textContent = message;
      
      this.confirmModal.classList.remove('hidden');
      requestAnimationFrame(() => {
        document.getElementById('confirm-modal-content').classList.remove('scale-95', 'opacity-0');
        document.getElementById('confirm-modal-content').classList.add('scale-100', 'opacity-100');
      });
    });
  },
  
  handleConfirm(result) {
    const content = document.getElementById('confirm-modal-content');
    content.classList.remove('scale-100', 'opacity-100');
    content.classList.add('scale-95', 'opacity-0');
    setTimeout(() => {
      this.confirmModal.classList.add('hidden');
      if (this.confirmResolve) {
        this.confirmResolve(result);
        this.confirmResolve = null;
      }
    }, 200);
  },
  
  prompt(message, title = 'Enter Value', defaultValue = '') {
    return new Promise((resolve) => {
      if (!this.promptModal) this.init();
      
      this.promptResolve = resolve;
      document.getElementById('prompt-modal-title').textContent = title;
      document.getElementById('prompt-modal-message').textContent = message;
      const input = document.getElementById('prompt-modal-input');
      input.value = defaultValue;
      
      this.promptModal.classList.remove('hidden');
      requestAnimationFrame(() => {
        document.getElementById('prompt-modal-content').classList.remove('scale-95', 'opacity-0');
        document.getElementById('prompt-modal-content').classList.add('scale-100', 'opacity-100');
        input.focus();
      });
    });
  },
  
  handlePrompt(result) {
    const content = document.getElementById('prompt-modal-content');
    content.classList.remove('scale-100', 'opacity-100');
    content.classList.add('scale-95', 'opacity-0');
    setTimeout(() => {
      this.promptModal.classList.add('hidden');
      document.getElementById('prompt-modal-input').value = '';
      if (this.promptResolve) {
        this.promptResolve(result);
        this.promptResolve = null;
      }
    }, 200);
  }
};

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => {
  Toast.init();
  Modal.init();
});

// Configure axios defaults
if (typeof axios !== 'undefined') {
  axios.defaults.withCredentials = true;
}
</script>

